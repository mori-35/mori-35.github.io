<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio_Manager</title>
</head>
<style>
    *{
        margin: 3px;
    }

    .canvas{
        background-color: beige;
        text-align: left;
        vertical-align: bottom;
    }

    #c0{
        background-color: beige;
        text-align: left;
        vertical-align: bottom;
    }
</style>
<body>
    <h1 id ="c0">☆再生遅延を１秒にする☆</h1>
    <h1 id ="c1" class = "canvas">①僕ら仲良し家族</h1>
    <h1 id ="c2" class = "canvas">②母さんとの約束</h1>
    <h1 id ="c3" class = "canvas">③おいらおおかみ(ダミ声)</h1>
    <h1 id ="c4" class = "canvas">④おかしいな、いつもと違う声</h1>
    <h1 id ="c5" class = "canvas">⑤おいらおおかみ(チョーク)</h1>
    <h1 style=" height:48px; font-size: 24px;" id ="c6" class = "canvas">⑥おかしいな、母さんだったら白い手だ</h1>
    <h1 id ="c7" class = "canvas">⑦おいらおおかみ(小麦粉)</h1>
    <h1 style=" height:48px; font-size: 28px;" id ="c8" class = "canvas">⑧優しい声、白い手は、母さんだ</h1>
    <h1 id ="c9" class = "canvas">⑨きゃーー</h1>
    <h1 id ="c10" class = "canvas">⑩双子の子ヤギ</h1>
    <h1 id ="c11" class = "canvas">⑪はさみ</h1>
    <h1 id ="c12" class = "canvas">⑫カーテンコール</h1>
    <h1 id ="c13" class = "canvas">⑬ラスト</h1>
    <h1 id ="c14" class = "canvas">☆音声を止める☆</h1>
    <br>
    <br>
    <br>
    <audio style="width: 370px;" controls id="audio" src=""></audio>
    <br>
    <br>
    <br>

</body>
<script>
    //===================================//
    let index = 1;
    let audio = document.getElementById("audio");
    let isStart1s = false;

    for(let i= 1; i <= 14;i++) {

        document.getElementById("c" + i).addEventListener("click",function(e){
            console.log("!");
            index = parseInt(this.id.slice(1,3));
            console.log(index)
            if(index <= 13){
                audio.src = "a" + index + ".m4a";
            }
            else{
                audio.src = "";
            }

            for(let j = 1; j<=14; j++){


                let obj = document.getElementById("c" + j);
                obj.style.backgroundColor = "beige";
                if(j == index){
                    obj.style.backgroundColor = "antiquewhite";
                }
            }

            //update(1/29)
            if(isStart1s && index != 9 && index != 11){
                audio.currentTime = 1;
            }

            audio.play();
            
        })
    }

    //update(1/29)
    document.getElementById("c0").addEventListener("click",function(e){
        isStart1s = !isStart1s;

        document.getElementById("c0").style.backgroundColor = (isStart1s)? "bisque":"beige";
    })
</script>
</html>